вообще можно сделать проще через атрибут contenteditable
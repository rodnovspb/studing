<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .anchor {
      width: 100px;
      height: 100px;
      border: 1px solid blue;
      margin: 50px 50px;
      position: relative;
    }
  </style>
</head>
<body style="height: 2000px">


  <div class="anchor"></div>
  

  


<script>

  let anchor = document.querySelector('.anchor')
  
  

  positionAt(anchor, 'right-in')

  function positionAt(anchor, position){
    let elem = document.createElement('div')
    elem.className = 'elem'
    elem.innerHTML = 'Заметка'
    elem.style.position = 'absolute'
    // добавляем перед измерением elem.offsetWidth, так как при display: none размеры скрытого элемента равны 0
    document.body.append(elem)
    let placeAnchor = anchor.getBoundingClientRect()
    switch (position) {
      case 'top':
        elem.style.left = placeAnchor.left + 'px'
        elem.style.top = placeAnchor.top - elem.offsetHeight + 'px'
        break;
      case 'left':
        elem.style.left = placeAnchor.left - elem.offsetWidth + 'px'
        elem.style.top = placeAnchor.top + anchor.offsetHeight/2 - elem.offsetHeight/2 + 'px'
        break;
      case 'bottom':
        elem.style.top = placeAnchor.bottom  + 'px'
        elem.style.left = placeAnchor.left + 'px'
        break;
       case 'right':
         elem.style.left = placeAnchor.right + 'px'
         elem.style.top = placeAnchor.top + anchor.offsetHeight/2 - elem.offsetHeight/2 + 'px'
         break;
       case 'top-in':
         elem.style.left = placeAnchor.left + 'px'
         elem.style.top = placeAnchor.top + 'px'
         break;
      case 'left-in':
        elem.style.left = placeAnchor.left + 'px'
        elem.style.top = placeAnchor.top + anchor.offsetHeight/2 - elem.offsetHeight/2 + 'px'
        break;
      case 'bottom-in':
        elem.style.top = placeAnchor.bottom  - elem.offsetHeight + 'px'
        elem.style.left = placeAnchor.left + 'px'
        break;
      case 'right-in':
        elem.style.left = placeAnchor.right - elem.offsetWidth + 'px'
        elem.style.top = placeAnchor.top + anchor.offsetHeight/2 - elem.offsetHeight/2 + 'px'
        break;
    }
    
    
  }
  
  
  
  


</script>
</body>
</html>
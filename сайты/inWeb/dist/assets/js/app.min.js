!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./dom/selector-engine.js"),require("./base-component.js")):"function"==typeof define&&define.amd?define(["./dom/event-handler","./dom/manipulator","./dom/selector-engine","./base-component"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Modal=e(t.EventHandler,t.Manipulator,t.SelectorEngine,t.Base)}(this,function(t,e,q,x){"use strict";var i=t=>t&&"object"==typeof t&&"default"in t?t:{default:t};const o=i(t),s=i(e),n=i(q),F=1e3,a="transitionend",l=t=>{t=(e=>{let i=e.getAttribute("data-bs-target");if(!i||"#"===i){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t="#"+t.split("#")[1]),i=t&&"#"!==t?t.trim():null}return i})(t);return t?document.querySelector(t):null},d=t=>!(!t||"object"!=typeof t)&&void 0!==(t=void 0!==t.jquery?t[0]:t).nodeType,r=(s,n,o)=>{Object.keys(o).forEach(t=>{var e=o[t],i=n[t],i=i&&d(i)?"element":null==(i=i)?""+i:{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(e).test(i))throw new TypeError(s.toUpperCase()+`: Option "${t}" provided type "${i}" but expected type "${e}".`)})},h=t=>{t.offsetHeight},c=[],u=()=>"rtl"===document.documentElement.dir;const m=t=>{"function"==typeof t&&t()},W=(i,s,t=!0)=>{if(t){t=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);var t=Number.parseFloat(e),s=Number.parseFloat(i);return t||s?(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*F):0})(s)+5;let e=!1;const n=({target:t})=>{t===s&&(e=!0,s.removeEventListener(a,n),m(i))};s.addEventListener(a,n),setTimeout(()=>{e||s.dispatchEvent(new Event(a))},t)}else m(i)},_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",f=".sticky-top";class I{constructor(){this._element=document.body}getWidth(){var t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(_,"paddingRight",t=>t+e),this._setElementAttributes(f,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,s){const n=this.getWidth();this._applyManipulationCallback(t,t=>{var e;t!==this._element&&window.innerWidth>t.clientWidth+n||(this._saveInitialAttribute(t,i),e=window.getComputedStyle(t)[i],t.style[i]=s(Number.parseFloat(e))+"px")})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(_,"paddingRight"),this._resetElementAttributes(f,"marginRight")}_saveInitialAttribute(t,e){var i=t.style[e];i&&s.default.setDataAttribute(t,e,i)}_resetElementAttributes(t,i){this._applyManipulationCallback(t,t=>{var e=s.default.getDataAttribute(t,i);void 0===e?t.style.removeProperty(i):(s.default.removeDataAttribute(t,i),t.style[i]=e)})}_applyManipulationCallback(t,e){d(t)?e(t):n.default.find(t,this._element).forEach(e)}isOverflowing(){return 0<this.getWidth()}}const z={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},P={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},g="backdrop",p="show",b="mousedown.bs."+g;class V{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&h(this._getElement()),this._getElement().classList.add(p),this._emulateAnimation(()=>{m(t)})):m(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(p),this._emulateAnimation(()=>{this.dispose(),m(t)})):m(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){var e;return(t={...z,..."object"==typeof t?t:{}}).rootElement=(e=t.rootElement,d(e)?e.jquery?e[0]:e:"string"==typeof e&&0<e.length?document.querySelector(e):null),r(g,t,P),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),o.default.on(this._getElement(),b,()=>{m(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(o.default.off(this._element,b),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){W(t,this._getElement(),this._config.isAnimated)}}const H={trapElement:null,autofocus:!0},$={trapElement:"element",autofocus:"boolean"};const v=".bs.focustrap",y=(v,v,"backward");class K{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),o.default.off(document,v),o.default.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),o.default.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,o.default.off(document,v))}_handleFocusin(t){t=t.target;const e=this._config["trapElement"];if(t!==document&&t!==e&&!e.contains(t)){const i=n.default.focusableChildren(e);(0===i.length?e:this._lastTabNavDirection===y?i[i.length-1]:i[0]).focus()}}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?y:"forward")}_getConfig(t){return t={...H,..."object"==typeof t?t:{}},r("focustrap",t,$),t}}const E="modal";const w=".bs.modal";const A={backdrop:!0,keyboard:!0,focus:!0},Q={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},k=(w,w,"hidden"+w),C="show"+w,T=(w,"resize"+w),N="click.dismiss"+w,j="keydown.dismiss"+w,D=(w,"mousedown.dismiss"+w);w;const L="modal-open",B="modal-static";var S;class R extends i(x).default{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=n.default.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new I}static get Default(){return A}static get NAME(){return E}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||o.default.trigger(this._element,C,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(L),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),o.default.on(this._dialog,D,()=>{o.default.one(this._element,"mouseup.dismiss.bs.modal",t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(){var t;!this._isShown||this._isTransitioning||o.default.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,(t=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),o.default.off(this._element,N),o.default.off(this._dialog,D),this._queueCallback(()=>this._hideModal(),this._element,t))}dispose(){[window,this._dialog].forEach(t=>o.default.off(t,w)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new V({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new K({trapElement:this._element})}_getConfig(t){return t={...A,...s.default.getDataAttributes(this._element),..."object"==typeof t?t:{}},r(E,t,Q),t}_showElement(t){var e=this._isAnimated();const i=n.default.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),e&&h(this._element),this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,o.default.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},this._dialog,e)}_setEscapeEvent(){this._isShown?o.default.on(this._element,j,t=>{this._config.keyboard&&"Escape"===t.key?(t.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==t.key||this._triggerBackdropTransition()}):o.default.off(this._element,j)}_setResizeEvent(){this._isShown?o.default.on(window,T,()=>this._adjustDialog()):o.default.off(window,T)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(L),this._resetAdjustments(),this._scrollBar.reset(),o.default.trigger(this._element,k)})}_showBackdrop(t){o.default.on(this._element,N,t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){var t=o.default.trigger(this._element,"hidePrevented.bs.modal");if(!t.defaultPrevented){const{classList:e,scrollHeight:i,style:s}=this._element,n=i>document.documentElement.clientHeight;!n&&"hidden"===s.overflowY||e.contains(B)||(n||(s.overflowY="hidden"),e.add(B),this._queueCallback(()=>{e.remove(B),n||this._queueCallback(()=>{s.overflowY=""},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){var t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=0<e;(!i&&t&&!u()||i&&!t&&u())&&(this._element.style.paddingLeft=e+"px"),(i&&!t&&!u()||!i&&t&&u())&&(this._element.style.paddingRight=e+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){const t=R.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](i)}})}}o.default.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const e=l(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),o.default.one(e,C,t=>{t.defaultPrevented||o.default.one(e,k,()=>{var t;t=this,d(t)&&0!==t.getClientRects().length&&"visible"===getComputedStyle(t).getPropertyValue("visibility")&&this.focus()})});t=n.default.findOne(".modal.show");t&&R.getInstance(t).hide();const i=R.getOrCreateInstance(e);i.toggle(this)});{var[M,Y="hide"]=[R];t="click.dismiss"+M.EVENT_KEY;const O=M.NAME;o.default.on(document,t,`[data-bs-dismiss="${O}"]`,function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),(t=this)&&t.nodeType===Node.ELEMENT_NODE&&!t.classList.contains("disabled")&&(void 0!==t.disabled?!t.disabled:!t.hasAttribute("disabled")||"false"===t.getAttribute("disabled"))){t=l(this)||this.closest("."+O);const e=M.getOrCreateInstance(t);e[Y]()}})}return S=R,e=()=>{const t=(e=window.jQuery)&&!document.body.hasAttribute("data-bs-no-jquery")?e:null;var e;if(t){const i=S.NAME,s=t.fn[i];t.fn[i]=S.jQueryInterface,t.fn[i].Constructor=S,t.fn[i].noConflict=()=>(t.fn[i]=s,S.jQueryInterface)}},"loading"===document.readyState?(c.length||document.addEventListener("DOMContentLoaded",()=>{c.forEach(t=>t())}),c.push(e)):e(),R});